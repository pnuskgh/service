#!/usr/bin/env bash
### ================================================================================================
###     프로그램 명     : 001_init_CentOS6.bash, Version 0.00.001
###     프로그램 설명   : CentOS 기본 이미지를 작성 한다.
###     작성자          : 산사랑 (pnuskgh@gmail.com, www.jopenbusiness.com)
###     작성일          : 2017.01.06 ~ 2017.01.06
### ----[History 관리]------------------------------------------------------------------------------
###     수정자         	:
###     수정일         	:
###     수정 내용      	:
### --- [Copyright] --------------------------------------------------------------------------------
###     Copyright (c) 1995~2017 pnuskgh, 오픈소스 비즈니스 컨설팅
###     All rights reserved.
### ================================================================================================

### ------------------------------------------------------------------------------------------------
###     실행 환경을 설정 한다.
### ------------------------------------------------------------------------------------------------
. config.bash > /dev/null 2>&1

### ------------------------------------------------------------------------------------------------
###     Network 초기화
###         192.168.56.102 network로 접속하여 작업 한다.
###         ifcfg-enp* 파일에서 UUID와 HWADDR을 제거 한다.
###         ifcfg-emp* 파일에 NM_CONTROLLED="no" 를 추가 한다.
### ------------------------------------------------------------------------------------------------
/bin/cp -f ${BASE_DIR}/files/ifcfg-eth* /etc/sysconfig/network-scripts
chmod 644 /etc/sysconfig/network-scripts/ifcfg-eth*

service network restart
ifdown  ifcfg-eth0
ifup    ifcfg-eth0
ping -c 3 google.com

### ------------------------------------------------------------------------------------------------
###     EPEL 레파지토리를 추가 한다.
### ------------------------------------------------------------------------------------------------
yum -y install epel-release

### ------------------------------------------------------------------------------------------------
###     CentOS 6을 업데이트 한다.
### ------------------------------------------------------------------------------------------------
yum -y update

### ------------------------------------------------------------------------------------------------
###     불필요한 패키지와 서비스를 제거 한다.
### ------------------------------------------------------------------------------------------------
yum -y remove NetworkManager

echo "VirtualBox Image를 CentOS6_64_init 이름으로 저장 하세요."

### ================================================================================================

