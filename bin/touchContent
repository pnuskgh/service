#!/bin/bash
### ================================================================================================
###     프로그램 명     		: touchContent, Version 0.00.001
###     프로그램 설명   		: 현재 폴더의 하위 폴더의 파일 날자를 현재 시간으로 변경
###     작성자          		: 산사랑 (pnuskgh@gmail.com, 010-5034-3931)
###     작성일          		: 2013.05.12 ~ 2013.05.12
### ----[History 관리]------------------------------------------------------------------------------
###     수정자          		:
###     수정일          		:
###     수정 내용       		:
### --- [Copyright] ------------------------------------------------------------
###     Copyright (c) 1995~2013 pnuskgh, 오픈소스 비즈니스 컨설팅
###     All rights reserved.
### ================================================================================================

###---  Script 환경 설정
. ${CONFIG_DIR}/config.bash > /dev/null 2>&1

### ----------------------------------------------------------------------------
###     funcUsing()
###			사용법 표시
### ----------------------------------------------------------------------------
funcUsing() {
  	/bin/echo "Using : touchContent [-d CONTENT_DIR] [-e EXT]"
    /bin/echo "        CONTENT_DIR    : 검색할 폴더"
    /bin/echo "        EXT            : 변경할 파일의 확장자"
    /bin/echo " "
  	exit 1
}

###---  Default 환경변수를 설정한다.
CONTENT_DIR=`/bin/pwd`
EXT=""

###---  Command Line에서 입력된 인수를 검사한다.
while getopts "d:e:h" flag; do
    case $flag in
        d)	CONTENT_DIR=$OPTARG         ;;
        e)  EXT=$OPTARG                 ;;
        h)  funcUsing                   ;;
        : | ? | *)  funcUsing           ;;
    esac
done
shift $(($OPTIND - 1))

### ----------------------------------------------------------------------------
###     Main process
### ----------------------------------------------------------------------------
/usr/bin/find ${CONTENT_DIR} -name "*${EXT}" -exec /bin/touch {} \;
exit 0

### ================================================================================================
