#!/usr/bin/env bash
### ================================================================================================
###     프로그램 명     : init_role.bash, Version 0.00.001
###     프로그램 설명   : Ansible Role 폴더를 구성 합니다.
###     작성자          : 산사랑 (pnuskgh@gmail.com, www.jopenbusiness.com)
###     작성일          : 2018.02.04 ~ 2018.02.04
### ----[History 관리]------------------------------------------------------------------------------
###     수정자          :
###     수정일          :
###     수정 내용       :
### --- [Copyright] --------------------------------------------------------------------------------
###     Copyright (c) 1995~2017 pnuskgh, 오픈소스 비즈니스 컨설팅
###     All rights reserved.
### ================================================================================================

### ------------------------------------------------------------------------------------------------
###     funcUsing()
###         사용법 표시
### ------------------------------------------------------------------------------------------------
funcUsing() {
    /bin/echo "Using : init_role.bash ROLE"
    /bin/echo "        ROLE           : 생성할 Ansible Role 이름"
    /bin/echo " "
    exit 1
}

### ------------------------------------------------------------------------------------------------
###     Command Line에서 입력된 인수를 검사한다.
### ------------------------------------------------------------------------------------------------
if [[ $# = 1 ]]; then
    ROLE=$1
else
    funcUsing
fi

### ------------------------------------------------------------------------------------------------
###     Main process
### ------------------------------------------------------------------------------------------------
cd /service/service_sw/Ansible/roles
if [[ -d /service/service_sw/Ansible/roles/${ROLE} ]]; then
   echo "Error : Role에 해당하는 폴더가 이미 있습니다."
   echo " "
else
   ansible-galaxy init ${ROLE}
fi

### ================================================================================================

